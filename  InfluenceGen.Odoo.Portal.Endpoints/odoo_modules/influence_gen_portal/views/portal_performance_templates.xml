<odoo>
    <data>
        <template id="portal_performance_dashboard" name="Influencer Performance Dashboard">
            <t t-call="portal.portal_layout">
                <t t-set="breadcrumbs" t-value="[
                    {'url': '/my/dashboard', 'text': _t('Dashboard')},
                    {'url': '/my/performance', 'text': _t('My Performance')}
                ]"/>
                 <t t-call="portal.portal_search_panel">
                     <t t-set="title">
                        <h1 class="mb-0"><t t-esc="_t('My Performance')"/></h1>
                    </t>
                </t>

                <div class="container mt-4">
                    <div t-if="not performance_data" class="alert alert-info" role="alert">
                        <t t-esc="_t('No performance data available yet. Complete campaigns to see your metrics here.')"/>
                    </div>

                    <t t-foreach="performance_data or []" t-as="campaign_perf">
                        <div class="card shadow-sm mb-4">
                            <div class="card-header bg-light">
                                <h4 class="mb-0"><t t-esc="campaign_perf.campaign_name"/></h4>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <h5><t t-esc="_t('Overall Campaign Metrics (If Available)')"/></h5>
                                        <ul class="list-unstyled">
                                            <li t-if="campaign_perf.total_reach is not None"><strong><t t-esc="_t('Total Reach:')"/></strong> <t t-esc="campaign_perf.total_reach"/></li>
                                            <li t-if="campaign_perf.total_engagement is not None"><strong><t t-esc="_t('Total Engagement:')"/></strong> <t t-esc="campaign_perf.total_engagement"/></li>
                                            <li t-if="campaign_perf.total_clicks is not None"><strong><t t-esc="_t('Total Clicks:')"/></strong> <t t-esc="campaign_perf.total_clicks"/></li>
                                            <li t-if="campaign_perf.total_views is not None"><strong><t t-esc="_t('Total Views:')"/></strong> <t t-esc="campaign_perf.total_views"/></li>
                                            <li t-if="campaign_perf.total_conversions is not None"><strong><t t-esc="_t('Total Conversions:')"/></strong> <t t-esc="campaign_perf.total_conversions"/></li>
                                        </ul>
                                         <p t-if="not campaign_perf.total_reach and not campaign_perf.total_engagement" class="text-muted"><t t-esc="_t('Overall campaign metrics are not yet available or not tracked for this campaign type.')"/></p>
                                    </div>
                                    <div class="col-md-6">
                                        <h5><t t-esc="_t('Your Submitted Content')"/></h5>
                                        <t t-if="campaign_perf.submissions">
                                            <ul class="list-group">
                                                <t t-foreach="campaign_perf.submissions" t-as="submission">
                                                    <li class="list-group-item">
                                                        <a t-if="submission.post_url" t-att-href="submission.post_url" target="_blank" rel="noopener noreferrer">
                                                            <t t-esc="submission.post_url_short or _t('View Post')"/> <i class="fa fa-external-link"/>
                                                        </a>
                                                        <span t-if="not submission.post_url and submission.content_preview_url">
                                                             <a t-att-href="submission.content_preview_url" target="_blank" rel="noopener noreferrer">
                                                                <t t-esc="_t('View Submitted Media')"/> <i class="fa fa-external-link"/>
                                                            </a>
                                                        </span>
                                                        <span t-if="not submission.post_url and not submission.content_preview_url"><t t-esc="_t('Content Submitted (No direct link)')"/></span>
                                                        <br/>
                                                        <small class="text-muted"><t t-esc="_t('Submitted on %s', submission.submission_date)"/></small>
                                                        <div t-if="submission.metrics" class="mt-1">
                                                            <small>
                                                                <span t-if="submission.metrics.reach" class="me-2"><i class="fa fa-users"/> <t t-esc="submission.metrics.reach"/> <t t-esc="_t('Reach')"/></span>
                                                                <span t-if="submission.metrics.engagement" class="me-2"><i class="fa fa-heart"/> <t t-esc="submission.metrics.engagement"/> <t t-esc="_t('Engagement')"/></span>
                                                                <span t-if="submission.metrics.clicks"><i class="fa fa-mouse-pointer"/> <t t-esc="submission.metrics.clicks"/> <t t-esc="_t('Clicks')"/></span>
                                                            </small>
                                                        </div>
                                                    </li>
                                                </t>
                                            </ul>
                                        </t>
                                        <t t-else="">
                                            <p class="text-muted"><t t-esc="_t('No content submissions found for you in this campaign, or metrics are not yet processed.')"/></p>
                                        </t>
                                    </div>
                                </div>
                                <!-- Placeholder for charts if OWL components are used -->
                                <div t-if="campaign_perf.charts_data" class="mt-3">
                                    <div t-attf-id="performance_chart_#{campaign_perf.campaign_id}">
                                        <!-- OWL component for charts would be mounted here -->
                                        <p class="text-center text-muted"><em <t t-esc="_t('Chart placeholder for %s', campaign_perf.campaign_name)"/></em></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                </div>
            </t>
        </template>
    </data>
</odoo>